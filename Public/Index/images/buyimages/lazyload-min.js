function Lazyload(a){this.setOption(a);var b=(document.images,this);this.lazyImgs=[],this.push(),this.option.scroll?this.timer=setInterval(function(){var a=(b.lazyImgs.length,Kg.getBodySize()),c=[];if(b.option.iframe)for(var d=parent.document.getElementById(b.option.iframeId),e=0;e<b.lazyImgs.length;e++)b.lazyImgs[e].offsetHeight<=0||b.lazyImgs[e].getBoundingClientRect().top+d.getBoundingClientRect().top<=d.parentNode.clientHeight-1+d.parentNode.getBoundingClientRect().top&&(c.push(b.lazyImgs[e]),b.lazyImgs.splice(e,1),e--);else for(var e=0;e<b.lazyImgs.length;e++)b.lazyImgs[e].offsetHeight<=0||b.lazyImgs[e].getBoundingClientRect().top<=a.cH-1&&(c.push(b.lazyImgs[e]),b.lazyImgs.splice(e,1),e--);b.loadPic(c)},100):this.loadPic(this.lazyImgs)}Lazyload.prototype.push=function(){for(var a=document.images,b=this,c=0;c<a.length;c++){var d=a[c].getAttribute(this.option.realSrc);void 0!=d&&d!=a[c].src&&(this.lazyImgs.push(a[c]),a[c].onerror=function(){this.onerror=null;var a=this.getAttribute(b.option.defaultSrc);a&&(this.src=a),this.className=this.className.replace(/\bload\b/g,""),this.className=this.className.replace(/\bloadPic\b/g,""),this.setAttribute("iserror",1)},a[c].onload=function(){(this.getAttribute(b.option.realSrc)==this.src||1!=this.getAttribute("iserror")&&this.getAttribute(b.option.defaultSrc,2)==this.getAttribute("src",2))&&(this.className=this.className.replace(/\bload\b/g,""),this.className=this.className.replace(/\bloadPic\b/g,""),b.option.fadeIn&&(Kg.setOpacity(this,0),Kg.fadein(this,1,7,function(a){a.style.filter="",a.style.opacity=""})))})}},Lazyload.prototype.loadPic=function(a){for(var b=0,c=a.length;c>b;b++)1!=a[b].getAttribute("loading")&&(a[b].src=a[b].getAttribute(this.option.realSrc)||a[b].getAttribute(this.option.defaultSrc)||"",a[b].setAttribute("loading",1),a[b].className+=" loadPic")},Lazyload.prototype.setOption=function(a){this.option={realSrc:"_src",defaultSrc:"_def",scroll:!0,iframe:!1,fadeIn:!1,iframeId:null},Kg.extend(this.option,a||{},!0)};